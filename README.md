# 线上工作监控系统

一个用于自动记录工作时间并监控电脑使用情况的应用程序。该系统每隔预设时间间隔自动捕获摄像头画面和屏幕截图，并记录当前运行的应用程序，同时统计每日和每周的工作时长。

## 周统计数据

| 周日期区间 | 总使用时长 | 工作日使用 | 周末使用 | 日均使用 | 状态 |
|------------|------------|------------|----------|----------|------|
| 4.7-13, 2025 | 00:00:50 | 00:00:50 | 00:00:00 | 00:00:07 | ❎ |
| 3.31-4.6, 2025 | 00:00:35 | 00:00:28 | 00:00:06 | 00:00:05 | ❎ |

## 主要功能

- **自动监控**：定期捕获*摄像头画面*（暂不上传）、*屏幕截图*（暂时上传，考虑本地备份中）和运行应用列表
- **时间统计**：记录每日、每周和周末的工作时间
- **数据组织**：按日期和周组织数据，便于查看历史记录
- **可视化界面**：提供友好的图形界面进行操作和查看统计信息
- **数据同步**：支持将统计数据同步到GitHub仓库
- **数据隐私**：所有图片数据均保存在本地，只会将时长统计结果上传至服务器

## 系统要求

- Python 3.6+
- Windows/macOS/Linux 操作系统
- 摄像头（可选，没有摄像头仍可运行但无法捕获摄像头图像）
- Git（用于数据同步功能）

## 安装步骤

1. 确保已安装Python 3.6或更高版本
2. 安装所需依赖库：

    ```bash
    pip install -r requirements.txt
    ```

3. 确保已安装Git并配置好凭据（用于数据同步）

## 使用方法

### 启动图形界面

```bash
python gui_monitor.py
```

### 命令行启动监控

```bash
python monitor.py
```

### 界面操作说明

- **开始**：启动监控系统，开始定期记录和统计时间
- **暂停**：临时暂停监控，时间统计将同时暂停
- **恢复**：从暂停状态恢复监控
- **停止**：完全停止监控，保存当前会话的统计数据
- **同步数据**：将统计数据同步到GitHub仓库

### 查看历史数据

1. 在GUI界面中，切换到"历史数据"标签
2. 选择"按日期"标签可查看特定日期的记录
3. 选择"按周"标签可查看每周的统计数据

## 数据存储

系统创建的所有数据存储在以下目录结构中：

```bash
monitoring_data/
├── stats/             # 统计数据
│   ├── usage_stats.json  # 当前使用统计
│   └── weekly/        # 每周统计数据
│       └── week_YYYYMMDD.json  # 每周的详细统计
├── YYYYMMDD/          # 按日期组织的文件夹
│   ├── HHMMSS/        # 特定时间点的记录
│   │   ├── camera.jpg       # 摄像头捕获
│   │   ├── screenshot.jpg   # 屏幕截图
│   │   └── applications.txt # 应用程序列表
│   ├── daily_stats.json     # 当天的统计数据
│   └── daily_summary.txt    # 当天的记录摘要
└── ...
```

## 统计数据说明

系统会统计以下时间：

- **今日使用时长**：当天的总工作时间
- **本周使用时长**：从本周一开始计算的总工作时间
- **周末使用时长**：本周的周六和周日的工作时间

## 注意事项

- 系统会自动在午夜0点重置每日统计，在每周一0点重置每周统计
- 所有历史数据均会保留，便于后续查看
- 摄像头捕获需要系统授予相应权限
- 如果程序运行时关闭电脑，可能会丢失当前会话的部分统计数据
- 同步数据功能需要有Git访问权限

## 常见问题

### 无法捕获摄像头画面

确保您的系统已正确安装摄像头驱动，且已授予程序访问摄像头的权限。

### 数据统计不准确

程序需要持续运行才能准确统计时间。如果程序中途关闭或计算机关机，可能会影响统计结果。

### 界面无响应

如果界面长时间无响应，可以尝试关闭并重新启动程序。统计数据会定期保存，因此重启后仍可查看大部分历史数据。

### 无法同步数据

确保已正确安装Git并配置好访问GitHub的凭据/网络代理。如遇到同步问题，请查看同步状态标签显示的错误信息。

## 开发计划

1. 接入wps/腾讯云文档，方便获取统计数据
2. 开发用户系统，支持多人使用，方便管理
3. 欢迎在issue中提出改进建议
